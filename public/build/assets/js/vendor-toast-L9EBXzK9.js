function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,n={exports:{}},a=n.exports;function i(){return t||(t=1,e=n,i=n.exports,function(){var t=function(){function e(){this.queue=new a,this.cancellationTokens=[],this.element=null}var t={default:{className:"default",fadeDuration:400,fadeInterval:16,duration:2e3,closeButton:!1,immediately:!1},success:{className:"success"},info:{className:"info"},warning:{className:"warning"},error:{className:"error",duration:3e3,closeButton:!0}};for(var i in e.prototype.initElement=function(e){var n=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("span");n.setAttribute("id","vanilla-toast-container"),a.setAttribute("id","vanilla-toast"),i.setAttribute("id","vanilla-toast-text"),l.setAttribute("id","vanilla-toast-close-button"),l.innerHTML="&#10006;",a.appendChild(i),a.appendChild(l),n.appendChild(a),e?document.getElementById(seletor).appendChild(containter):document.body.appendChild(n),this.element={container:n,toastBox:a,text:i,closeButton:l},o(this,t.default)},e.prototype.cancel=function(){this.cancellationTokens.length&&this.cancellationTokens[0].cancel()},e.prototype.cancelAll=function(){for(var e=this.cancellationTokens.length,t=0;t<e;++t)(function(e){e.cancel()})(this.cancellationTokens[e-t-1])},e.prototype.show=function(e,a,i){var c=this;c.element||c.initElement(),a||(a={}),a.immediately&&c.cancelAll();var s=new n;return c.queue.enqueue(function(n){var u=a.fadeDuration||t.default.fadeDuration,r=a.fadeInterval||t.default.fadeInterval,f=Math.min(r/u,1),d=a.duration||t.default.duration;c.element.closeButton.style.display=a.closeButton?"inline":"none",c.element.text.innerHTML=e;var p=c.element.toastBox.style;p.opacity=0,p.display="inline-block",o(c,a);var h=null,m=function(){h=null,c.element.toastBox.removeEventListener("click",v),function(e,n,a,i){n||(n={});var o=n.fadeDuration||t.default.fadeDuration,c=n.fadeInterval||t.default.fadeInterval,s=Math.min(c/o,1),u=e.element.toastBox.style;u.opacity=1,l(u,-s,c,a,function(){u.display="none",i&&i()})}(c,a,s,function(){i&&i(),c.cancellationTokens.shift().dispose(),n()})},v=function(){h&&(clearTimeout(h),m())};l(p,f,r,s,function(){c.element.toastBox.addEventListener("click",v),s.isCancellationRequested?m():(h=setTimeout(m,d),s.register(function(){v()}))})}),c.cancellationTokens.push(s),c},t)(function(n){e.prototype[n]=function(e,a,i){for(var o in a||(a={}),t[n])void 0===a[o]&&(a[o]=t[n][o]);return this.show(e,a,i)}})(i);function o(e,n){e.element.toastBox.className=n.className||t.default.className}function l(e,t,n,a,i){!function o(){if(a.isCancellationRequested)return e.opacity=t<0?0:1,void(i&&i());if(e.opacity=Number(e.opacity)+t,t<0&&e.opacity<0)i&&i();else if(t>0&&e.opacity>=1)i&&i();else{var l=setTimeout(function(){l=null,o()},n);a.register(function(){l&&(clearTimeout(l),l=null,i&&i())})}}()}return e}(),n=function(){function e(){this.isCancellationRequested=!1,this.cancelCallbacks=[]}return e.prototype.cancel=function(){this.isCancellationRequested=!0;for(var e=this.cancelCallbacks.slice();e.length;)e.shift()()},e.prototype.register=function(e){this.cancelCallbacks.push(e)},e.prototype.dispose=function(){for(;this.cancelCallbacks.length;)this.cancelCallbacks.shift()},e}(),a=function(){function e(){this.queue=[],this.isExecuting=!1}function t(e){if(!e.isExecuting){var n=e.queue.shift();n&&(e.isExecuting=!0,n(function(){e.isExecuting=!1,t(e)}))}}return e.prototype.enqueue=function(e){this.queue.push(e),t(this)},e}();e.exports&&(i=e.exports=new t),i.vanillaToast=new t}.call(a)),n.exports;var e,i}export{e as g,i as r};
